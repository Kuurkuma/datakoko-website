<header class="site-header">
    <nav>
        <div class="nav-left">
            <a href="{{ "/" | relLangURL }}" class="site-title">{{ .Site.Title }}</a>
            <input id="nav-toggle" type="checkbox" aria-label="Toggle navigation" />
            <label for="nav-toggle" class="nav-toggle" aria-hidden="true">☰</label>
            <ul class="nav-main">
                {{ $current := . }}
                {{ range .Site.Menus.main }}
                    {{ $menuURL := relLangURL .URL }}
                    {{ $isExact := eq $menuURL $current.RelPermalink }}
                    {{ $isMenu := or ($current.IsMenuCurrent "main" .) ($current.HasMenuCurrent "main" .) }}
                    {{ $isPrefix := hasPrefix $current.RelPermalink $menuURL }}
                    {{ $isCurrent := or $isExact (or $isMenu $isPrefix) }}
                    <li><a href="{{ .URL }}" class="{{ if $isCurrent }}active{{ end }}">{{ .Name }}</a></li>
                {{ end }}
            </ul>
        </div>
        <ul class="nav-right">
            {{ if .IsTranslated }}
                {{ range .Translations }}
                    <li><a href="{{ .Permalink }}">🌐 {{ .Language.LanguageName }}</a></li>
                {{ end }}
            {{ else }}
                {{ range .Site.Languages }}
                    {{ if not (eq .Lang $.Site.Language.Lang) }}
                        <li><a href="/{{ .Lang }}/">🌐 {{ .LanguageName }}</a></li>
                    {{ end }}
                {{ end }}
            {{ end }}
        </ul>
    </nav>
</header>
